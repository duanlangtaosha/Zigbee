C51 COMPILER V9.56.0.0   APP_TEMP_SET                                                      05/28/2017 22:23:07 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE APP_TEMP_SET
OBJECT MODULE PLACED IN .\Objects\app_temp_set.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE Source\APP\source\app_temp_set.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Head;
                    -.\Source\APP\include) DEBUG OBJECTEXTEND PRINT(.\Listings\app_temp_set.lst) TABS(2) OBJECT(.\Objects\app_temp_set.obj)

line level    source

   1          #include "__std_type.h"
   2          #include "lcd12864.h"
   3          #include "ds18b20.h"
   4          #include "key.h"
   5          #include "app_temp_set.h"
   6          
   7          extern uint8_t g_home ;
   8          extern unsigned char choose_page;
   9          
  10          char g_temp = 31;
  11          void temp_setting (void) 
  12          {
  13   1          lcd12864_write_cmd(0x01);
  14   1          lcd12864_set_window(0, 1);
  15   1          lcd12864_write_string("≡报警温度≡");
  16   1          lcd12864_set_window(1, 7);
  17   1          lcd12864_write_string("℃");
  18   1        while (g_home) {
  19   2          unsigned char keyval = keyscan(5);
  20   2          if (EN_KEY3 == keyval) {
  21   3            choose_page = 3;
  22   3            break;
  23   3          } else if (EN_KEY1 == keyval) {
  24   3            g_temp++;
  25   3            if (g_temp > 100) {
  26   4              g_temp = 0;
  27   4            } 
  28   3          } else if (EN_KEY2 == keyval) {
  29   3            g_temp--;
  30   3            if (g_temp < 0) {
  31   4              g_temp = 100;
  32   4            }
  33   3          }
  34   2          lcd12864_set_window(1, 0);
  35   2          lcd12864_write_string("温度上限: ");
  36   2          lcd12864_write_data((g_temp / 10) | 0x30);
  37   2          lcd12864_write_data((g_temp % 10) | 0x30);
  38   2          
  39   2      
  40   2        }
  41   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    147    ----
   CONSTANT SIZE    =     27    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
